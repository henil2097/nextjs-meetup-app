{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/pateh1/Desktop/ReactApps/nextjs-meetup-app/pages/index.js\";\nimport { useEffect, useState } from \"react\";\nimport Layout from \"../components/layout/Layout\";\nimport MeetupList from \"../components/meetups/MeetupList\";\nimport { MongoClient } from \"mongodb\"; // our-domain.com/\n\nconst HomePage = props => {\n  return /*#__PURE__*/_jsxDEV(MeetupList, {\n    meetups: props.meetups\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 10\n  }, this);\n}; // export const getServerSideProps = async (context) => {\n//   // fetch data from API\n//   const req = context.req;\n//   const res = context.res;\n//   return {\n//     props: {\n//       meetups: DUMMY_MEETUPS,\n//     },\n//   }; // always returns an object\n// };\n\n\nexport const getStaticProps = async () => {\n  // fetch data from API\n  const client = await MongoClient.connect(\"mongodb+srv://admin:NbVW3L4hufySkD6A@cluster0.fhngv.mongodb.net/meetups?retryWrites=true&w=majority\");\n  const db = client.db();\n  const meetupsCollections = db.collection(\"meetups\");\n  const meetups = await meetupsCollections.find().toArray();\n  client.close();\n  return {\n    props: {\n      meetups: meetups.map(meetup => ({\n        title: meetup.title,\n        address: meetup.address,\n        image: meetup.image,\n        id: meetup._id.toString()\n      }))\n    },\n    revalidate: 10\n  }; // always returns an object\n};\nexport default HomePage;\n/*\nUsing getStaticProps() or getServerSideProps() will no longer needed useEffect and useState for fetching and setting data\n  //   const [loadedMeetups, setLoadedMeetups] = useState([]);\n  //   useEffect(() => {\n  //     setLoadedMeetups(DUMMY_MEETUPS);\n  //   }, []);\n\n\n---------------- Some basic info on getStaticProps() and getServerSideProps() -------------------\nReserved method in nextjs to get static content/data before rendering the page\nso that the current component page gets executed and rendered with required data\n\nNeeded getStaticProps method, so that when the component page is loaded and rendered,\nit contains the data which will be used by SEO(Search engine optimization) and able to search throught the page\n\nAlso, this method will be called during the build process of production.\nThat means, it doesn't runs on the client side nor on the server side\n\n{revalidate: <seconds>}, prop unlocks the incremental generation of the static content/data for the component page,\nso that if data changes after build, we will get the latest data and not the outdated one which is generated while build\n\nrevalidate prop accepts the seconds and it will re-generate the static content after every seconds given if there are incoming requests for it\nand replaces the old generated page with new one\n\n\n---------------- Some basic info on getServerSideProps() -------------------\nThe difference between getServerSideProps and getStaticProps is that,\ngetServerSideProps() will get executed on the server and prepare the data\nwhereas getStaticProps() will get executed at the time of build and prepare the data\n\nAlso, in getServerSideProps() doesn't needed revalidate prop anymore to revalidate data every seconds\n\n*/","map":{"version":3,"sources":["/Users/pateh1/Desktop/ReactApps/nextjs-meetup-app/pages/index.js"],"names":["useEffect","useState","Layout","MeetupList","MongoClient","HomePage","props","meetups","getStaticProps","client","connect","db","meetupsCollections","collection","find","toArray","close","map","meetup","title","address","image","id","_id","toString","revalidate"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,MAAP,MAAmB,6BAAnB;AACA,OAAOC,UAAP,MAAuB,kCAAvB;AACA,SAASC,WAAT,QAA4B,SAA5B,C,CAEA;;AAEA,MAAMC,QAAQ,GAAIC,KAAD,IAAW;AAC1B,sBAAO,QAAC,UAAD;AAAY,IAAA,OAAO,EAAEA,KAAK,CAACC;AAA3B;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,CAFD,C,CAIA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAEA,OAAO,MAAMC,cAAc,GAAG,YAAY;AACxC;AAEA,QAAMC,MAAM,GAAG,MAAML,WAAW,CAACM,OAAZ,CACnB,qGADmB,CAArB;AAGA,QAAMC,EAAE,GAAGF,MAAM,CAACE,EAAP,EAAX;AACA,QAAMC,kBAAkB,GAAGD,EAAE,CAACE,UAAH,CAAc,SAAd,CAA3B;AACA,QAAMN,OAAO,GAAG,MAAMK,kBAAkB,CAACE,IAAnB,GAA0BC,OAA1B,EAAtB;AAEAN,EAAAA,MAAM,CAACO,KAAP;AAEA,SAAO;AACLV,IAAAA,KAAK,EAAE;AACLC,MAAAA,OAAO,EAAEA,OAAO,CAACU,GAAR,CAAaC,MAAD,KAAa;AAChCC,QAAAA,KAAK,EAAED,MAAM,CAACC,KADkB;AAEhCC,QAAAA,OAAO,EAAEF,MAAM,CAACE,OAFgB;AAGhCC,QAAAA,KAAK,EAAEH,MAAM,CAACG,KAHkB;AAIhCC,QAAAA,EAAE,EAAEJ,MAAM,CAACK,GAAP,CAAWC,QAAX;AAJ4B,OAAb,CAAZ;AADJ,KADF;AASLC,IAAAA,UAAU,EAAE;AATP,GAAP,CAZwC,CAsBrC;AACJ,CAvBM;AAyBP,eAAepB,QAAf;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import { useEffect, useState } from \"react\";\nimport Layout from \"../components/layout/Layout\";\nimport MeetupList from \"../components/meetups/MeetupList\";\nimport { MongoClient } from \"mongodb\";\n\n// our-domain.com/\n\nconst HomePage = (props) => {\n  return <MeetupList meetups={props.meetups} />;\n};\n\n// export const getServerSideProps = async (context) => {\n//   // fetch data from API\n//   const req = context.req;\n//   const res = context.res;\n\n//   return {\n//     props: {\n//       meetups: DUMMY_MEETUPS,\n//     },\n//   }; // always returns an object\n// };\n\nexport const getStaticProps = async () => {\n  // fetch data from API\n\n  const client = await MongoClient.connect(\n    \"mongodb+srv://admin:NbVW3L4hufySkD6A@cluster0.fhngv.mongodb.net/meetups?retryWrites=true&w=majority\"\n  );\n  const db = client.db();\n  const meetupsCollections = db.collection(\"meetups\");\n  const meetups = await meetupsCollections.find().toArray();\n\n  client.close();\n\n  return {\n    props: {\n      meetups: meetups.map((meetup) => ({\n        title: meetup.title,\n        address: meetup.address,\n        image: meetup.image,\n        id: meetup._id.toString(),\n      })),\n    },\n    revalidate: 10,\n  }; // always returns an object\n};\n\nexport default HomePage;\n\n/*\nUsing getStaticProps() or getServerSideProps() will no longer needed useEffect and useState for fetching and setting data\n  //   const [loadedMeetups, setLoadedMeetups] = useState([]);\n  //   useEffect(() => {\n  //     setLoadedMeetups(DUMMY_MEETUPS);\n  //   }, []);\n\n\n---------------- Some basic info on getStaticProps() and getServerSideProps() -------------------\nReserved method in nextjs to get static content/data before rendering the page\nso that the current component page gets executed and rendered with required data\n\nNeeded getStaticProps method, so that when the component page is loaded and rendered,\nit contains the data which will be used by SEO(Search engine optimization) and able to search throught the page\n\nAlso, this method will be called during the build process of production.\nThat means, it doesn't runs on the client side nor on the server side\n\n{revalidate: <seconds>}, prop unlocks the incremental generation of the static content/data for the component page,\nso that if data changes after build, we will get the latest data and not the outdated one which is generated while build\n\nrevalidate prop accepts the seconds and it will re-generate the static content after every seconds given if there are incoming requests for it\nand replaces the old generated page with new one\n\n\n---------------- Some basic info on getServerSideProps() -------------------\nThe difference between getServerSideProps and getStaticProps is that,\ngetServerSideProps() will get executed on the server and prepare the data\nwhereas getStaticProps() will get executed at the time of build and prepare the data\n\nAlso, in getServerSideProps() doesn't needed revalidate prop anymore to revalidate data every seconds\n\n*/\n"]},"metadata":{},"sourceType":"module"}